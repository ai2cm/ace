{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",

  "permissions": {
    "allow": [
      "Read:**",
      "Glob:**",
      "Grep:**",
      "Edit:**/*.py",
      "Edit:**/*.yaml",
      "Edit:**/*.yml",
      "Edit:**/*.toml",
      "Edit:**/*.md",
      "Write:**/*.py",
      "Write:**/*.yaml",
      "Write:**/*.yml",
      "Write:**/*.toml",
      "Write:**/*.md",
      "Bash:gh pr view**",
      "Bash:gh pr list**",
      "Bash:gh pr diff**",
      "Bash:gh pr checks**",
      "Bash:gh issue view**",
      "Bash:gh issue list**",
      "Bash:gh repo view**",
      "Bash:gh api */repos/*/pulls/*/comments*",
      "Bash:gh api */repos/*/pulls/*/reviews*",
      "Bash:gh api */repos/*/commits/*",
      "Bash:git status*",
      "Bash:git diff*",
      "Bash:git log*",
      "Bash:git show*"
    ],
    "ask": [
      "Bash:*rm -rf*",
      "Bash:*rm -fr*",
      "Bash:rm * -rf*",
      "Bash:rm * -fr*",
      "Bash:*sudo rm*",
      "Bash:git push --force*",
      "Bash:git push -f*",
      "Bash:git reset --hard*",
      "Bash:git clean -fd*",
      "Bash:git clean -f*",
      "Bash:git branch -D*",
      "Bash:*deploy*",
      "Bash:*docker system prune*",
      "Bash:*docker volume rm*",
      "Bash:*docker container rm*",
      "Bash:*podman system prune*",
      "Bash:*pip uninstall*",
      "Bash:*conda remove*",
      "Bash:*apt remove*",
      "Bash:*yum remove*",
      "Bash:*dnf remove*",
      "Bash:*chmod -R*",
      "Bash:*chown -R*",
      "Bash:*dd if=*",
      "Bash:*mkfs*",
      "Bash:*fdisk*",
      "Bash:*parted*",
      "Bash:*>/dev/sd*",
      "Bash:*curl * | bash*",
      "Bash:*curl * | sh*",
      "Bash:*wget * | bash*",
      "Bash:*wget * | sh*",
      "Bash:gh pr merge*",
      "Bash:gh pr close*",
      "Bash:gh pr comment*",
      "Bash:gh pr review*",
      "Bash:gh pr edit*",
      "Bash:gh pr ready*",
      "Bash:gh issue create*",
      "Bash:gh issue close*",
      "Bash:gh issue comment*",
      "Bash:gh issue edit*",
      "Bash:gh repo delete*",
      "Bash:gh repo create*",
      "Bash:gh release create*",
      "Bash:gh release delete*"
    ]
  },

  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "python3 -c \"import sys,json,subprocess; d=json.load(sys.stdin); f=d.get('tool_input',{}).get('file_path',''); subprocess.run(['ruff','format',f]) if f.endswith('.py') and not any(x in f for x in ['makani_fcn3','physicsnemo_unets_v2','cuhpx']) else None\""
          }
        ]
      }
    ]
  }
}
